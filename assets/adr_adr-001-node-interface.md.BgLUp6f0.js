import{_ as o,c as a,ag as i,o as t}from"./chunks/framework.CmpABV1Y.js";const u=JSON.parse('{"title":"Using Evolve Node as replacement of Tendermint Node","description":"","frontmatter":{"head":[["meta",{"name":"og:title","content":"Using Evolve Node as replacement of Tendermint Node | Evolve"},{"name":"og:description","content":false}]]},"headers":[],"relativePath":"adr/adr-001-node-interface.md","filePath":"adr/adr-001-node-interface.md","lastUpdated":1754470767000}'),n={name:"adr/adr-001-node-interface.md"};function r(l,e,d,s,c,m){return t(),a("div",null,e[0]||(e[0]=[i('<h1 id="using-evolve-node-as-replacement-of-tendermint-node" tabindex="-1">Using Evolve <code>Node</code> as replacement of Tendermint <code>Node</code> <a class="header-anchor" href="#using-evolve-node-as-replacement-of-tendermint-node" aria-label="Permalink to &quot;Using Evolve `Node` as replacement of Tendermint `Node`&quot;">​</a></h1><h2 id="changelog" tabindex="-1">Changelog <a class="header-anchor" href="#changelog" aria-label="Permalink to &quot;Changelog&quot;">​</a></h2><ul><li>26.02.2021: Initial Draft</li><li>29.09.2022: Rename Optimint to rollmint</li><li>22.01.2023: Rename rollmint to Evolve</li></ul><p>Replacing on the <code>Node</code> level gives much flexibility. Still, significant amount of code can be reused, and there is no need to refactor lazyledger-core. Cosmos SDK is tightly coupled with Tendermint with regards to node creation, RPC, app initialization, etc. De-coupling requires big refactoring of cosmos-sdk.</p><p>There are known issues related to Tendermint RPC communication.</p><h2 id="replacing-tendermint-node" tabindex="-1">Replacing Tendermint <code>Node</code> <a class="header-anchor" href="#replacing-tendermint-node" aria-label="Permalink to &quot;Replacing Tendermint `Node`&quot;">​</a></h2><p>Tendermint <code>Node</code> is a struct. It&#39;s used directly in cosmos-sdk (not via interface). We don&#39;t need to introduce common interface <code>Node</code>s, because the plan is to use scaffolding tool in the future, so we can make any required changes in cosmos-sdk.</p><h3 id="interface-required-by-cosmos-sdk" tabindex="-1">Interface required by cosmos-sdk <a class="header-anchor" href="#interface-required-by-cosmos-sdk" aria-label="Permalink to &quot;Interface required by cosmos-sdk&quot;">​</a></h3><ul><li>BaseService (struct): <ul><li>Service (interface) <ul><li>Start()</li><li>IsRunning()</li><li>Stop()</li></ul></li><li>Logger</li></ul></li><li>Direct access: <ul><li>ConfigureRPC()</li><li>EventBus()</li></ul></li></ul><h2 id="alternative-approaches" tabindex="-1">Alternative approaches <a class="header-anchor" href="#alternative-approaches" aria-label="Permalink to &quot;Alternative approaches&quot;">​</a></h2><h3 id="create-rpc-from-scratch" tabindex="-1">Create RPC from scratch <a class="header-anchor" href="#create-rpc-from-scratch" aria-label="Permalink to &quot;Create RPC from scratch&quot;">​</a></h3><ul><li>Pros: <ul><li>May be possible to avoid Tendermint issues</li><li>Should be possible to avoid dependency on Tendermint in Evolve</li><li>Changes probably limited to cosmos-sdk (not required in tendermint/lazyledger-core)</li></ul></li><li>Cons: <ul><li>Reinventing the wheel</li><li>Requires bigger, much more complicated changes in cosmos-sdk</li><li>Probably can&#39;t upstream such changes to cosmos-sdk</li></ul></li></ul><h2 id="tendermint-vs-lazyledger-core" tabindex="-1"><code>tendermint</code> vs <code>lazyledger-core</code> <a class="header-anchor" href="#tendermint-vs-lazyledger-core" aria-label="Permalink to &quot;`tendermint` vs `lazyledger-core`&quot;">​</a></h2><p>Right now, either <code>tendermint</code> or <code>lazyledger-core</code> can be used for base types (including interfaces). Similarly, vanilla <code>cosmos-sdk</code> (not a fork under lazyledger organization) can be used as a base for optimistic client. <code>lazyledger-core</code> is a repository created because of needs related to lazyledger client, not optimistic client. On the other hand, some of the functionality will be shared between both clients. This will have to be resolved later in time. Using &#39;vanilla&#39; repositories (not forks) probably will make easier to upstream changes if required, and will make scaffolding easier.</p><h2 id="development" tabindex="-1">Development <a class="header-anchor" href="#development" aria-label="Permalink to &quot;Development&quot;">​</a></h2><p><code>cosmos-sdk-rollmit</code> is a repository dedicated for maintenance of Evolve-enabled version of Cosmos SDK.</p>',16)]))}const p=o(n,[["render",r]]);export{u as __pageData,p as default};
