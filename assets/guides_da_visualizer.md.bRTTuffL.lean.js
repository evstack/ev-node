import{_ as s,c as a,ag as e,o as t}from"./chunks/framework.CmpABV1Y.js";const u=JSON.parse('{"title":"DA Visualizer","description":"","frontmatter":{"head":[["meta",{"name":"og:title","content":"DA Visualizer | Evolve"},{"name":"og:description","content":false}]]},"headers":[],"relativePath":"guides/da/visualizer.md","filePath":"guides/da/visualizer.md","lastUpdated":1757426930000}'),l={name:"guides/da/visualizer.md"};function n(o,i,r,h,p,d){return t(),a("div",null,i[0]||(i[0]=[e(`<h1 id="da-visualizer" tabindex="-1">DA Visualizer <a class="header-anchor" href="#da-visualizer" aria-label="Permalink to &quot;DA Visualizer&quot;">â€‹</a></h1><p>The Data Availability (DA) Visualizer is a built-in monitoring tool in Evolve that provides real-time insights into blob submissions to the DA layer. It offers a web-based interface for tracking submission statistics, monitoring DA layer health, and analyzing blob details.</p><p><strong>Note</strong>: Only aggregator nodes submit data to the DA layer. Non-aggregator nodes will not display submission data.</p><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">â€‹</a></h2><p>The DA Visualizer provides:</p><ul><li>Real-time monitoring of blob submissions (last 100 submissions)</li><li>Success/failure statistics and trends</li><li>Gas price tracking and cost analysis</li><li>DA layer health monitoring</li><li>Detailed blob inspection capabilities</li><li>Recent submission history</li></ul><h2 id="enabling-the-da-visualizer" tabindex="-1">Enabling the DA Visualizer <a class="header-anchor" href="#enabling-the-da-visualizer" aria-label="Permalink to &quot;Enabling the DA Visualizer&quot;">â€‹</a></h2><p>The DA Visualizer is disabled by default. To enable it, use the following configuration:</p><h3 id="via-command-line-flag" tabindex="-1">Via Command-line Flag <a class="header-anchor" href="#via-command-line-flag" aria-label="Permalink to &quot;Via Command-line Flag&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">testapp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --rollkit.rpc.enable_da_visualization</span></span></code></pre></div><h3 id="via-configuration-file" tabindex="-1">Via Configuration File <a class="header-anchor" href="#via-configuration-file" aria-label="Permalink to &quot;Via Configuration File&quot;">â€‹</a></h3><p>Add the following to your <code>evnode.yml</code> configuration file:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">rpc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  enable_da_visualization</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><h2 id="accessing-the-da-visualizer" tabindex="-1">Accessing the DA Visualizer <a class="header-anchor" href="#accessing-the-da-visualizer" aria-label="Permalink to &quot;Accessing the DA Visualizer&quot;">â€‹</a></h2><p>Once enabled, the DA Visualizer is accessible through your node&#39;s RPC server. By default, this is:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>http://localhost:7331/da</span></span></code></pre></div><p>The visualizer provides several API endpoints and a web interface:</p><h3 id="web-interface" tabindex="-1">Web Interface <a class="header-anchor" href="#web-interface" aria-label="Permalink to &quot;Web Interface&quot;">â€‹</a></h3><p>Navigate to <code>http://localhost:7331/da</code> in your web browser to access the interactive dashboard.</p><h3 id="api-endpoints" tabindex="-1">API Endpoints <a class="header-anchor" href="#api-endpoints" aria-label="Permalink to &quot;API Endpoints&quot;">â€‹</a></h3><p>The following REST API endpoints are available for programmatic access:</p><h4 id="get-recent-submissions" tabindex="-1">Get Recent Submissions <a class="header-anchor" href="#get-recent-submissions" aria-label="Permalink to &quot;Get Recent Submissions&quot;">â€‹</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /da/submissions</span></span></code></pre></div><p>Returns the most recent blob submissions (up to 100 kept in memory).</p><h4 id="get-blob-details" tabindex="-1">Get Blob Details <a class="header-anchor" href="#get-blob-details" aria-label="Permalink to &quot;Get Blob Details&quot;">â€‹</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /da/blob?id={blob_id}</span></span></code></pre></div><p>Returns detailed information about a specific blob submission.</p><h4 id="get-da-statistics" tabindex="-1">Get DA Statistics <a class="header-anchor" href="#get-da-statistics" aria-label="Permalink to &quot;Get DA Statistics&quot;">â€‹</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /da/stats</span></span></code></pre></div><p>Returns aggregated statistics including:</p><ul><li>Total submissions count</li><li>Success/failure rates</li><li>Average gas price</li><li>Total gas spent</li><li>Average blob size</li><li>Submission trends</li></ul><h4 id="get-da-health-status" tabindex="-1">Get DA Health Status <a class="header-anchor" href="#get-da-health-status" aria-label="Permalink to &quot;Get DA Health Status&quot;">â€‹</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /da/health</span></span></code></pre></div><p>Returns the current health status of the DA layer including:</p><ul><li>Connection status</li><li>Recent error rates</li><li>Performance metrics</li><li>Last successful submission timestamp</li></ul><h2 id="features" tabindex="-1">Features <a class="header-anchor" href="#features" aria-label="Permalink to &quot;Features&quot;">â€‹</a></h2><h3 id="real-time-monitoring" tabindex="-1">Real-time Monitoring <a class="header-anchor" href="#real-time-monitoring" aria-label="Permalink to &quot;Real-time Monitoring&quot;">â€‹</a></h3><p>The dashboard automatically updates every 30 seconds, displaying:</p><ul><li>Recent submission feed with status indicators (last 100 submissions)</li><li>Success rate percentage</li><li>Current gas price trends</li><li>Submission history</li></ul><h3 id="submission-details" tabindex="-1">Submission Details <a class="header-anchor" href="#submission-details" aria-label="Permalink to &quot;Submission Details&quot;">â€‹</a></h3><p>Each submission entry shows:</p><ul><li>Timestamp</li><li>Blob ID with link to detailed view</li><li>Number of blobs in the batch</li><li>Submission status (success/failure)</li><li>Gas price used</li><li>Error messages (if any)</li></ul><h3 id="statistics-dashboard" tabindex="-1">Statistics Dashboard <a class="header-anchor" href="#statistics-dashboard" aria-label="Permalink to &quot;Statistics Dashboard&quot;">â€‹</a></h3><p>The statistics section provides:</p><ul><li><strong>Performance Metrics</strong>: Success rate, average submission time</li><li><strong>Cost Analysis</strong>: Total gas spent, average gas price over time</li><li><strong>Volume Metrics</strong>: Total blobs submitted, average blob size</li><li><strong>Trend Analysis</strong>: Hourly and daily submission patterns</li></ul><h3 id="health-monitoring" tabindex="-1">Health Monitoring <a class="header-anchor" href="#health-monitoring" aria-label="Permalink to &quot;Health Monitoring&quot;">â€‹</a></h3><p>The health status indicator shows:</p><ul><li>ðŸŸ¢ <strong>Healthy</strong>: DA layer responding normally</li><li>ðŸŸ¡ <strong>Warning</strong>: Some failures but overall functional</li><li>ðŸ”´ <strong>Critical</strong>: High failure rate or connection issues</li></ul><h2 id="use-cases" tabindex="-1">Use Cases <a class="header-anchor" href="#use-cases" aria-label="Permalink to &quot;Use Cases&quot;">â€‹</a></h2><h3 id="for-node-operators" tabindex="-1">For Node Operators <a class="header-anchor" href="#for-node-operators" aria-label="Permalink to &quot;For Node Operators&quot;">â€‹</a></h3><ul><li>Monitor the reliability of DA submissions</li><li>Track gas costs and optimize gas price settings</li><li>Identify patterns in submission failures</li><li>Ensure DA layer connectivity</li></ul><h3 id="for-developers" tabindex="-1">For Developers <a class="header-anchor" href="#for-developers" aria-label="Permalink to &quot;For Developers&quot;">â€‹</a></h3><ul><li>Debug DA submission issues</li><li>Analyze blob data structure</li><li>Monitor application-specific submission patterns</li><li>Test DA layer integration</li></ul><h3 id="for-network-monitoring" tabindex="-1">For Network Monitoring <a class="header-anchor" href="#for-network-monitoring" aria-label="Permalink to &quot;For Network Monitoring&quot;">â€‹</a></h3><ul><li>Track overall network DA usage</li><li>Identify congestion periods</li><li>Monitor gas price fluctuations</li><li>Analyze submission patterns across the network</li></ul><h2 id="configuration-options" tabindex="-1">Configuration Options <a class="header-anchor" href="#configuration-options" aria-label="Permalink to &quot;Configuration Options&quot;">â€‹</a></h2><p>When enabling the DA Visualizer, you may want to adjust related RPC settings:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">rpc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  address</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.0.0.0:7331&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # Bind to all interfaces for remote access</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  enable_da_visualization</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><p><strong>Security Note</strong>: If binding to all interfaces (<code>0.0.0.0</code>), ensure proper firewall rules are in place to restrict access to trusted sources only.</p><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">â€‹</a></h2><h3 id="visualizer-not-accessible" tabindex="-1">Visualizer Not Accessible <a class="header-anchor" href="#visualizer-not-accessible" aria-label="Permalink to &quot;Visualizer Not Accessible&quot;">â€‹</a></h3><ol><li><p>Verify the DA Visualizer is enabled:</p><ul><li>Check your configuration file or ensure the flag is set</li><li>Look for log entries confirming &quot;DA visualization endpoints registered&quot;</li></ul></li><li><p>Check the RPC server is running:</p><ul><li>Verify the RPC address in logs</li><li>Ensure no port conflicts</li></ul></li><li><p>For remote access:</p><ul><li>Ensure the RPC server is bound to an accessible interface</li><li>Check firewall settings</li></ul></li></ol><h3 id="no-data-displayed" tabindex="-1">No Data Displayed <a class="header-anchor" href="#no-data-displayed" aria-label="Permalink to &quot;No Data Displayed&quot;">â€‹</a></h3><ol><li>Verify your node is in aggregator mode (only aggregators submit to DA)</li><li>Check DA layer connectivity in the node logs</li><li>Ensure transactions are being processed</li><li>Note that the visualizer only keeps the last 100 submissions in memory</li></ol><h3 id="api-errors" tabindex="-1">API Errors <a class="header-anchor" href="#api-errors" aria-label="Permalink to &quot;API Errors&quot;">â€‹</a></h3><ul><li><strong>404 Not Found</strong>: DA Visualizer not enabled</li><li><strong>500 Internal Server Error</strong>: Check node logs for DA connection issues</li><li><strong>Empty responses</strong>: No submissions have been made yet</li></ul><h2 id="example-usage" tabindex="-1">Example Usage <a class="header-anchor" href="#example-usage" aria-label="Permalink to &quot;Example Usage&quot;">â€‹</a></h2><h3 id="using-curl-to-access-the-api" tabindex="-1">Using curl to access the API <a class="header-anchor" href="#using-curl-to-access-the-api" aria-label="Permalink to &quot;Using curl to access the API&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get recent submissions (returns up to 100)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:7331/da/submissions</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get specific blob details</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:7331/da/blob?id=abc123...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get statistics</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:7331/da/stats</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check DA health</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:7331/da/health</span></span></code></pre></div><h3 id="monitoring-with-scripts" tabindex="-1">Monitoring with scripts <a class="header-anchor" href="#monitoring-with-scripts" aria-label="Permalink to &quot;Monitoring with scripts&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Simple monitoring script</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">while</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  health</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:7331/da/health</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.status&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$health</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;healthy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;DA layer issue detected: </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$health</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Send alert...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  fi</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  sleep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 30</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">done</span></span></code></pre></div><h2 id="related-configuration" tabindex="-1">Related Configuration <a class="header-anchor" href="#related-configuration" aria-label="Permalink to &quot;Related Configuration&quot;">â€‹</a></h2><p>For complete DA layer configuration options, see the <a href="./../learn/config#data-availability-configuration-da">Config Reference</a>.</p><p>For metrics and monitoring setup, see the <a href="./metrics">Metrics Guide</a>.</p>`,74)]))}const g=s(l,[["render",n]]);export{u as __pageData,g as default};
