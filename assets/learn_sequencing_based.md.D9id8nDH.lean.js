import{_ as t,c as a,ag as n,o as s}from"./chunks/framework.DlgP5dhN.js";const p=JSON.parse('{"title":"Based Sequencing","description":"","frontmatter":{"head":[["meta",{"name":"og:title","content":"Based Sequencing | Evolve"},{"name":"og:description","content":false}]]},"headers":[],"relativePath":"learn/sequencing/based.md","filePath":"learn/sequencing/based.md","lastUpdated":1764781917000}'),i={name:"learn/sequencing/based.md"};function o(r,e,l,c,d,h){return s(),a("div",null,e[0]||(e[0]=[n(`<h1 id="based-sequencing" tabindex="-1">Based Sequencing <a class="header-anchor" href="#based-sequencing" aria-label="Permalink to &quot;Based Sequencing&quot;">​</a></h1><p>Based sequencing is a decentralized sequencing model where transaction ordering is determined by the base layer (Celestia) rather than a centralized sequencer. In this model, <strong>every full node acts as its own proposer</strong> by independently and deterministically deriving the next batch of transactions directly from the base layer.</p><h2 id="how-based-sequencing-works" tabindex="-1">How Based Sequencing Works <a class="header-anchor" href="#how-based-sequencing-works" aria-label="Permalink to &quot;How Based Sequencing Works&quot;">​</a></h2><h3 id="transaction-submission" tabindex="-1">Transaction Submission <a class="header-anchor" href="#transaction-submission" aria-label="Permalink to &quot;Transaction Submission&quot;">​</a></h3><p>Users submit transactions to the base layer&#39;s forced inclusion namespace. These transactions are posted as blobs to the DA layer, where they become part of the canonical transaction ordering.</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>User → Base Layer (DA) → Full Nodes retrieve and execute</span></span></code></pre></div><h3 id="deterministic-batch-construction" tabindex="-1">Deterministic Batch Construction <a class="header-anchor" href="#deterministic-batch-construction" aria-label="Permalink to &quot;Deterministic Batch Construction&quot;">​</a></h3><p>All full nodes independently construct identical batches by:</p><ol><li><strong>Retrieving forced inclusion transactions</strong> from the base layer at epoch boundaries</li><li><strong>Applying forkchoice rules</strong> to determine batch composition: <ul><li><code>MaxBytes</code>: Maximum byte size per batch (respects block size limits)</li><li>DA epoch boundaries</li></ul></li><li><strong>Smoothing large transactions</strong> across multiple blocks when necessary</li></ol><h3 id="epoch-based-processing" tabindex="-1">Epoch-Based Processing <a class="header-anchor" href="#epoch-based-processing" aria-label="Permalink to &quot;Epoch-Based Processing&quot;">​</a></h3><p>Forced inclusion transactions are retrieved in epochs defined by <code>DAEpochForcedInclusion</code>. For example, with an epoch size of 10:</p><ul><li>DA heights 100-109 form one epoch</li><li>DA heights 110-119 form the next epoch</li><li>Transactions from each epoch must be included before the epoch ends</li></ul><p>Epochs durations determine the block time in based sequencing. Additionally, because no headers are published, the lazy mode has no effect. The block time is a factor of the DA layer&#39;s block time.</p><h2 id="block-smoothing" tabindex="-1">Block Smoothing <a class="header-anchor" href="#block-smoothing" aria-label="Permalink to &quot;Block Smoothing&quot;">​</a></h2><p>When forced inclusion transactions exceed the <code>MaxBytes</code> limit for a single block, they can be &quot;smoothed&quot; across multiple blocks within the same epoch. This ensures that:</p><ul><li>Large transactions don&#39;t block the chain</li><li>All transactions are eventually included</li><li>The system remains censorship-resistant</li></ul><h3 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to &quot;Example&quot;">​</a></h3><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Epoch [100, 104]:</span></span>
<span class="line"><span>  - Block 1: Includes 1.5 MB of forced inclusion txs (partial)</span></span>
<span class="line"><span>  - Block 2: Includes remaining 0.5 MB + new regular txs</span></span>
<span class="line"><span>  - All epoch transactions included before DA height 105</span></span></code></pre></div><h2 id="trust-assumptions" tabindex="-1">Trust Assumptions <a class="header-anchor" href="#trust-assumptions" aria-label="Permalink to &quot;Trust Assumptions&quot;">​</a></h2><p>Based sequencing minimizes trust assumptions:</p><ul><li><strong>No trusted sequencer</strong> - ordering comes from the base layer</li><li><strong>No proposer selection</strong> - every full node derives blocks independently</li><li><strong>Deterministic consensus</strong> - all honest nodes converge on the same chain</li><li><strong>Base layer security</strong> - inherits the security guarantees of the DA layer</li><li><strong>No malicious actor concern</strong> - invalid blocks are automatically rejected by validation rules</li></ul><h2 id="comparison-with-single-sequencer" tabindex="-1">Comparison with Single Sequencer <a class="header-anchor" href="#comparison-with-single-sequencer" aria-label="Permalink to &quot;Comparison with Single Sequencer&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Feature</th><th>Based Sequencing</th><th>Single Sequencer</th></tr></thead><tbody><tr><td>Decentralization</td><td>✅ Fully decentralized</td><td>❌ Single point of control</td></tr><tr><td>Censorship Resistance</td><td>✅ Guaranteed by base layer</td><td>⚠️ Guaranteed by base layer</td></tr><tr><td>Latency</td><td>⚠️ Depends on DA layer (~12s)</td><td>✅ Low latency (configurable)</td></tr><tr><td>Block Time Control</td><td>❌ Factor of DA block time</td><td>✅ Configurable by sequencer</td></tr><tr><td>Trust Assumptions</td><td>✅ Minimal (only DA layer)</td><td>❌ Trust the sequencer</td></tr></tbody></table><h2 id="further-reading" tabindex="-1">Further Reading <a class="header-anchor" href="#further-reading" aria-label="Permalink to &quot;Further Reading&quot;">​</a></h2><ul><li><a href="./../data-availability">Data Availability</a> - Understanding the DA layer</li><li><a href="./../transaction-flow">Transaction Flow</a> - How transactions move through the system</li></ul>`,25)]))}const b=t(i,[["render",o]]);export{p as __pageData,b as default};
