syntax = "proto3";
package evnode.v1;

import "evnode/v1/evnode.proto";
import "google/protobuf/timestamp.proto";

option go_package = "github.com/evstack/ev-node/types/pb/evnode/v1";

// State is the state of the blockchain.
message State {
  evnode.v1.Version version = 1;
  string chain_id = 2;
  uint64 initial_height = 3;
  uint64 last_block_height = 4;
  google.protobuf.Timestamp last_block_time = 5;
  uint64 da_height = 6;
  bytes app_hash = 8;
  bytes last_header_hash = 9;

  reserved 7;
}

// RaftBlockState represents a replicated block state
message RaftBlockState {
  uint64 height = 1;
  uint64 last_submitted_da_header_height = 2;
  uint64 last_submitted_da_data_height = 3;
  bytes hash = 4;
  uint64 timestamp = 5;
  bytes header = 6;
  bytes data = 7;
}

// SequencerDACheckpoint tracks the position in the DA where transactions were last processed
message SequencerDACheckpoint {
  // DA block height being processed
  uint64 da_height = 1;
  // Index of the next transaction to process within the DA block's forced inclusion batch
  uint64 tx_index = 2;
}
