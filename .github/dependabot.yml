version: 2
updates:
  - package-ecosystem: github-actions
    target-branch: main
    directory: "/"
    schedule:
      interval: weekly
    open-pull-requests-limit: 10
    labels:
      - T:dependencies
    # Group all patch updates into a single PR
    groups:
      patch-updates:
        applies-to: version-updates
        update-types:
          - "patch"
  - package-ecosystem: github-actions
    directory: "/"
    schedule:
      interval: daily
    allow:
      - dependency-name: "ev-node/*"
    labels:
      - T:dependencies
    # Group all patch updates into a single PR
    groups:
      patch-updates:
        applies-to: version-updates
        update-types:
          - "patch"
          - "minor"
  - package-ecosystem: gomod
    # Scan the root and any submodules (apps, execution, sequencers, etc.)
    directories:
      - "/"
      - "/apps/evm/single"
      - "/apps/grpc/single"
      - "/apps/testapp"
      - "/da"
      - "/core"
      - "/execution/evm"
      - "/execution/grpc"
      - "/sequencers/single"
      - "/test/docker-e2e"
      - "/test/e2e"
    schedule:
      interval: weekly
    open-pull-requests-limit: 10
    labels:
      - T:dependencies
    # group to reduce PR noise (optional)
    groups:
      all-go:
        patterns: ["*"]
  - package-ecosystem: docker
    directory: "/"
    schedule:
      interval: daily
    open-pull-requests-limit: 10
    labels:
      - T:dependencies
    # Group all patch updates into a single PR
    groups:
      patch-updates:
        applies-to: version-updates
        update-types:
          - "patch"
